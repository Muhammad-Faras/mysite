{% extends 'base.html' %}

{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'accounts/css/profile.css' %}">
{% endblock %}

{% block content %}  
<section class="parent-section">

    {% if request.user.profile %}
    {% else %}
    <aside
    class="fixed bottom-4 end-4 z-50 flex items-center justify-center gap-4 rounded-lg bg-black px-5 py-3 text-white"
  >
    <a href="#" target="_blank" rel="noreferrer" class="text-sm font-medium hover:opacity-75">
      Hey! Complete Your ProfileðŸ‘‹
    </a>
  
    <button class="rounded bg-white/20 p-1 hover:bg-white/10">
      <span class="sr-only">Close</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path
          fillRule="evenodd"
          d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
          clipRule="evenodd"
        />
      </svg>
    </button>
  </aside>
  {% endif %}

    <a class="inline-block text-center mb-2 px-6 py-2 text-white bg-primaryColor" href="">chat</a>
            <div class="child-sec1">
        <div class="child-child1">
            
            <div>
                {% if user.profile.profile_img %}
            
                    <img width="40px" src="{{ user.profile.profile_img.url }}" alt="">
                {% else %}
                    <i class="fa-solid fa-user" style="color: #a0b4b7; font-size: 40px;"></i>
                {% endif %}
            </div>
        </div>
        <div class="name-title">
            <h1>{{ user.first_name }} {{ user.last_name }} &nbsp; &nbsp; &nbsp; ({{ user.username }})</h1>
            <p>{{ request.user }}</p>
        </div>
        <div style="display: flex;">
            <a href="{% url 'posts:my_posts' %}">Mypsots</a>&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;
            <a href="{% url 'account_logout' %}">logout</a>&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;
            <a href="{% url 'posts:wishlist' %}">wishlist</a>&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;

            {% if user.has_usable_password %}
                <!-- User has already set a password -->
                <a href="{% url 'accounts:account_change_password' %}">Change password</a>
            {% else %}
            {% endif %}




        </div>
    </div>

    <div class="child-sec2">
        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
        <h1>Personal Information</h1>
            <div>
                <label for="">Profile Picture</label>
                {% if user == request.user %}
                    {{ form.profile_img }}
                {% else %}
                    <input type="text" value="{{ form.profile_img.value }}" readonly>
                {% endif %}
            </div>

            <div>
                <label for="">University</label>
                {% if user == request.user %}
                    {{ form.university }}
                {% else %}
                    <input type="text" value="{{ form.university.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">Skill</label>
                {% if user == request.user %}
                    {{ form.skill }}
                {% else %}
                    <input type="text" value="{{ form.skill.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">Gender</label>
                {% if user == request.user %}
                    {{ form.gender }}
                {% else %}
                    <input type="text" value="{{ form.gender.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">Age</label>
                {% if user == request.user %}
                    {{ form.age }}
                {% else %}
                    <input type="number" value="{{ form.age.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">Date Of Birth</label>
                {% if user == request.user %}
                    {{ form.birthday }}
                {% else %}
                    <input type="date" value="{{ form.birthday.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">About</label>
                {% if user == request.user %}
                    {{ form.bio }}
                {% else %}
                    <textarea readonly>{{ form.bio.value }}</textarea>
                {% endif %}
            </div>
            <h1>Social Media Links </h1>
            <div>
                <label for="">Twitter</label>
                {% if user == request.user %}
                    {{ form.twitter_link }}
                {% else %}
                    <input type="text" value="{{ form.twitter_link.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">Facebook</label>
                {% if user == request.user %}
                    {{ form.facebook_link }}
                {% else %}
                    <input type="text" value="{{ form.facebook_link.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <label for="">Github</label>
                {% if user == request.user %}
                    {{ form.github_link }}
                {% else %}
                    <input type="text" value="{{ form.github_link.value }}" readonly>
                {% endif %}
            </div>
            <div>
                <button type="submit" {% if user != request.user %} disabled {% endif %}>Save</button>
            </div>
        </form>
    </div>
</section>

{% endblock %}